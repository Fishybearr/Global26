[gd_scene format=3 uid="uid://jwxcpmwgi3o4"]

[ext_resource type="PackedScene" uid="uid://4i0e8kpdmll3" path="res://player.tscn" id="1_pq8q7"]
[ext_resource type="Script" uid="uid://bsjoamx2akn4o" path="res://gun.gd" id="3_28aoi"]
[ext_resource type="Script" uid="uid://dkuxvb6bcwwcw" path="res://pivot_point.gd" id="3_vvh5c"]
[ext_resource type="PackedScene" uid="uid://cmxpb2t0xm3ss" path="res://enemy.tscn" id="4_28aoi"]
[ext_resource type="Script" uid="uid://o5rxt7k0g3lc" path="res://spawn_manager.gd" id="5_jnlp7"]
[ext_resource type="Script" uid="uid://drnvng2i31uhg" path="res://door.gd" id="6_l8v81"]

[sub_resource type="Gradient" id="Gradient_jnlp7"]
colors = PackedColorArray(0.15982476, 0.16813096, 0.19908643, 1, 0.16078432, 0.16862746, 0.2, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_l8v81"]
gradient = SubResource("Gradient_jnlp7")
width = 125
height = 15

[sub_resource type="Gradient" id="Gradient_vyht1"]
colors = PackedColorArray(0.9901338, 0, 0.38311777, 1, 0.9853782, 0.4557227, 0.7147089, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_bf3um"]
gradient = SubResource("Gradient_vyht1")
width = 125
height = 15

[sub_resource type="Gradient" id="Gradient_vvh5c"]

[sub_resource type="GradientTexture2D" id="GradientTexture2D_28aoi"]
gradient = SubResource("Gradient_vvh5c")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pq8q7"]
size = Vector2(1251, 20)

[sub_resource type="Gradient" id="Gradient_pyidc"]

[sub_resource type="GradientTexture2D" id="GradientTexture2D_vvh5c"]
gradient = SubResource("Gradient_pyidc")

[sub_resource type="NavigationPolygon" id="NavigationPolygon_28aoi"]
vertices = PackedVector2Array(563, 299, -571, 299, -571, -315, 563, -315)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-576, -320, 568, -320, 568, 304, -576, 304)])
agent_radius = 5.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jnlp7"]
size = Vector2(64, 62)

[sub_resource type="Gradient" id="Gradient_bf3um"]

[sub_resource type="GradientTexture2D" id="GradientTexture2D_huihk"]
gradient = SubResource("Gradient_bf3um")

[node name="Root" type="Node2D" unique_id=1676188793]

[node name="PlayerHealthBar" type="TextureProgressBar" parent="." unique_id=201361919]
offset_left = -569.0
offset_top = -313.0
offset_right = -444.0
offset_bottom = -298.0
value = 50.0
texture_under = SubResource("GradientTexture2D_l8v81")
texture_progress = SubResource("GradientTexture2D_bf3um")

[node name="Player" parent="." unique_id=197392079 instance=ExtResource("1_pq8q7")]
position = Vector2(-282, 0)

[node name="StaticBody2D" type="StaticBody2D" parent="Player" unique_id=578346848]
script = ExtResource("3_vvh5c")

[node name="GunPoint" type="Sprite2D" parent="Player/StaticBody2D" unique_id=1087744439]
position = Vector2(22.000004, 0)
scale = Vector2(0.045, 0.045)
texture = SubResource("GradientTexture2D_28aoi")
script = ExtResource("3_28aoi")

[node name="Env" type="Node" parent="." unique_id=2086653968]

[node name="StaticBody2D" type="StaticBody2D" parent="Env" unique_id=1127697181]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Env/StaticBody2D" unique_id=119555731]
position = Vector2(39, -331)
shape = SubResource("RectangleShape2D_pq8q7")

[node name="StaticBody2D2" type="StaticBody2D" parent="Env" unique_id=1238340264]
position = Vector2(-35, 648)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Env/StaticBody2D2" unique_id=884485723]
position = Vector2(39, -331)
shape = SubResource("RectangleShape2D_pq8q7")

[node name="StaticBody2D3" type="StaticBody2D" parent="Env" unique_id=1030099025]
position = Vector2(-918, 172)
rotation = 1.5707964

[node name="CollisionShape2D" type="CollisionShape2D" parent="Env/StaticBody2D3" unique_id=920027557]
position = Vector2(39, -331)
shape = SubResource("RectangleShape2D_pq8q7")

[node name="StaticBody2D4" type="StaticBody2D" parent="Env" unique_id=889109934]
position = Vector2(250, 171)
rotation = 1.5707964

[node name="CollisionShape2D" type="CollisionShape2D" parent="Env/StaticBody2D4" unique_id=331353552]
position = Vector2(39, -331)
shape = SubResource("RectangleShape2D_pq8q7")

[node name="Sprite2D" type="Sprite2D" parent="Env/StaticBody2D4/CollisionShape2D" unique_id=1247465647]
position = Vector2(-177.00002, 7.736916e-06)
scale = Vector2(14.778358, 0.3194034)
texture = SubResource("GradientTexture2D_vvh5c")

[node name="Camera2D" type="Camera2D" parent="." unique_id=1800094761]

[node name="Enemy" parent="." unique_id=1328005184 instance=ExtResource("4_28aoi")]

[node name="Enemy2" parent="." unique_id=144937512 instance=ExtResource("4_28aoi")]
position = Vector2(-505, -150)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="." unique_id=1077877043]
navigation_polygon = SubResource("NavigationPolygon_28aoi")

[node name="SpawnManager" type="Node" parent="." unique_id=1725238256 node_paths=PackedStringArray("enemies", "spawnPoints")]
script = ExtResource("5_jnlp7")
enemies = [NodePath("../Enemy"), NodePath("../Enemy2")]
spawnPoints = [NodePath("Spawn1"), NodePath("Spawn2")]

[node name="Spawn1" type="Node2D" parent="SpawnManager" unique_id=1933830273]
position = Vector2(-195, -259)

[node name="Spawn2" type="Node2D" parent="SpawnManager" unique_id=1843614282]
position = Vector2(291, -201)

[node name="Door" type="Area2D" parent="." unique_id=1744638583]
position = Vector2(0, -279)
script = ExtResource("6_l8v81")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Door" unique_id=1368895377]
shape = SubResource("RectangleShape2D_jnlp7")

[node name="Sprite2D" type="Sprite2D" parent="Door" unique_id=1291134369]
texture = SubResource("GradientTexture2D_huihk")

[connection signal="body_entered" from="Door" to="Door" method="_on_body_entered"]
